/* This file contains ONLY standard CSS or utility classes already defined in the main Tailwind config. */
/* It MUST NOT contain @layer, @apply, or theme() directives as it's not processed by the core Tailwind build pipeline. */

#dashboard-plugin-root {
  background-color: hsl(var(--color-background) / 0.7);
}

#dashboard-content-panel {
  background-color: hsl(var(--color-surface));
  border: 1px solid hsl(var(--color-border));
}

#dashboard-toolbar {
  border-bottom: 1px solid hsl(var(--color-border));
}

#dashboard-toolbar-title {
  color: hsl(var(--color-text-primary));
}

#dashboard-empty-state-container {
  color: hsl(var(--color-text-secondary));
}

.dashboard-card-container.card-size-small {
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}
.dashboard-card-container.card-size-medium {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}
.dashboard-card-container.card-size-large {
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
}

.dashboard-card-container .card-item.widget-triggered {
  transform: scale(0.95);
  transition: all 150ms;
  background-color: hsl(var(--color-primary) / 0.2);
  border-color: hsl(var(--color-primary));
}

.dashboard-card-container .card-item.hover {
  border-color: hsl(var(--color-primary));
  box-shadow: 0 0 0 2px hsl(var(--color-primary)), var(--shadow-depth-lg);
}

/* --- Dashboard Plugin Cursor with Dwell Indicator --- */
#dashboard-cursor {
  --progress: 0; /* Animated by keyframes */
  position: fixed;
  width: 2rem;
  height: 2rem;
  border-radius: 9999px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition-property: opacity, visibility;
  transition-duration: 200ms;
  transition-timing-function: ease-out;
  z-index: 1100;

  border: 1px solid black;
  box-shadow: 0 0 0 2px white, 0 2px 4px rgba(0, 0, 0, 0.4);

  background: radial-gradient(
      closest-side,
      hsl(var(--color-surface) / 0.7) 75%,
      transparent 0 99.9%
    ),
    conic-gradient(
      hsl(var(--color-primary)) calc(var(--progress) * 100%),
      hsl(var(--color-border) / 0.5) 0
    );
}

#dashboard-cursor.visible {
  visibility: visible;
  opacity: 1;
}

#dashboard-cursor.dwelling {
  animation: dwell-progress 1s linear forwards; /* 1s must match DWELL_TIME_MS */
}

@keyframes dwell-progress {
  from {
    --progress: 0;
  }
  to {
    --progress: 1;
  }
}

/* --- Hover HUD --- */
#dashboard-hud {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 250px;
    min-height: 100px;
    background-color: hsl(var(--color-surface) / 0.8);
    backdrop-filter: blur(4px);
    border: 3px solid hsl(var(--color-primary));
    border-radius: var(--radius-large);
    box-shadow: var(--shadow-depth-xl);
    z-index: 9999;
    color: hsl(var(--color-text-primary));
    font-family: monospace;
    text-align: center;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    visibility: hidden;
    opacity: 0;
    transition: all 150ms ease-in-out;
    word-break: break-all;
    white-space: pre-wrap;
}

#dashboard-plugin-root.is-hovering #dashboard-hud {
    visibility: visible;
    opacity: 1;
}

/* Action Type (e.g., "Home Assistant") */
#dashboard-hud::before {
    content: attr(data-action-name);
    font-weight: bold;
    font-size: 1.2em;
    color: hsl(var(--color-primary));
    border-bottom: 1px solid hsl(var(--color-border));
    padding-bottom: 0.5rem;
    width: 100%;
}

/* Action Details + Timer */
#dashboard-hud::after {
    content: attr(data-action-details) "\A" attr(data-timer);
    font-size: 0.9em;
    color: hsl(var(--color-text-secondary));
    line-height: 1.4;
}